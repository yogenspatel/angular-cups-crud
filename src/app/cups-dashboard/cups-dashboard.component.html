<div class="cup-dashboard mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title">
    <h2 class="mdl-card__title-text">Cups Info</h2>
  </div>
  <ul class="mdl-list">
    <li *ngIf="cupsData" class="cupHeader">
      <span>Name</span>
      <span>Type</span>
      <span>Action</span>
    </li>
    <li *ngFor="let cup of cupsData; trackBy: trackByCups" class="mdl-list__item mdl-list__item--three-line">
      <app-cups-card [cupData]="cup" (onCupAction)="onCupActionChange($event)"
        (onRetrieveCupData)="retriveCupDataOnEdit($event)" (onDeleteCupData)="deleteCupData($event)">
      </app-cups-card>
    </li>
    <button (click)="openModal('add-cup-modal')"
      class="add-button mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--primary">
      <i class="material-icons">add</i>
    </button>
  </ul>
</div>

<!-- Add Modal -->
<my-modal id="add-cup-modal">
  <h2>Add Cup</h2>
  <div *ngIf="error">{{error}}</div>
  <form [formGroup]="addForm" (ngSubmit)="onAddSubmit()">
    <div class="form-group">
      <label for="cupName">Cup Name</label>
      <input #cupName type="text" formControlName="cupName" class="form-control"
        [ngClass]="{ 'is-invalid': submitted && formAddFields.cupName.errors }" />
      <div *ngIf="submitted && formAddFields.cupName.errors" class="invalid-feedback">
        <div *ngIf="formAddFields.cupName.errors.required">Cup Name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="cupType">Type</label>
      <select formControlName="cupType" [ngClass]="{ 'is-invalid': submitted && formAddFields.cupType.errors }">
        <option value="0" disabled>--Select---</option>
        <option *ngFor="let drink of drinkTypeLabels; let i='index'" [value]="i+1">
          {{drink}}
        </option>
      </select>
      <div *ngIf="submitted && formAddFields.cupType.errors" class="invalid-feedback">
        <div *ngIf="formAddFields.cupType.errors.required">Must Select Cup Drink Type !</div>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary">Add</button>
      <img *ngIf="loading" class="pl-3"
        src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </div>
  </form>
  <button (click)="closeModal('add-cup-modal');">Close</button>
</my-modal>

<!-- Edit Modal -->
<my-modal id="edit-cup-modal">
  <h2>Edit Cup</h2>
  <div *ngIf="error">{{error}}</div>
  <h4>ID: {{editId}}</h4>
  <form [formGroup]="editForm" (ngSubmit)="onEditSubmit()">
    <div class="form-group">
      <label for="cupEditName">Cup Name</label>
      <input #cupEditName type="text" formControlName="cupEditName" class="form-control"
        [ngClass]="{ 'is-invalid': submitted && formEditFields.cupEditName.errors }" />
      <div *ngIf="submitted && formEditFields.cupEditName.errors" class="invalid-feedback">
        <div *ngIf="formEditFields.cupEditName.errors.required">Cup Name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="cupType">Type: </label>
      <select formControlName="cupType" [ngClass]="{ 'is-invalid': submitted && formEditFields.cupType.errors }">
        <option value="0" disabled>--Select---</option>
        <option *ngFor="let drink of drinkTypeLabels; let i='index'" [value]="i+1">
          {{drink}}
        </option>
      </select>
      <div *ngIf="submitted && formEditFields.cupType.errors" class="invalid-feedback">
        <div *ngIf="formEditFields.cupType.errors.required">Must Select Cup Drink Type !</div>
      </div>
    </div>
    <div class="form-group">
      <label for="cupAction">Action: </label>
      <select formControlName="cupAction">
        <option *ngFor="let action of cupActionLabels; let i='index'" [value]="i+1">
          {{action}}
        </option>
      </select>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary">Edit</button>
    </div>
  </form>
  <button (click)="closeModal('edit-cup-modal');">Close</button>
</my-modal>